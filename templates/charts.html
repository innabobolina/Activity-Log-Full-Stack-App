{% extends 'base.html' %}

{% block title %}Charts{% endblock %}

{% block content %}

  <h2>Charts</h2>

  <p style="color:magenta; font-size:150%;">Hello, {{ user.username }}!</p>

  <h2>Chart of {{ act.act_name }} in {{ act.act_unit }}</h2>

  <button class="graph-buttons" id="allTime">View All</button>
  <button class="graph-buttons" id="byWeek">By Week</button>
  <button class="graph-buttons" id="byMonth">By Month</button>

  <div id=canvas-container>
    <canvas id="myChart"></canvas>
  </div>  

  <script src="http://code.jquery.com/jquery.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js@2.8.0"></script>
  <script type="text/javascript">


  // $('#byMonth').on('click', () => {
  //   alert('by month!');
  // });

  {# let actUnit = '{{  }}'; #}

  let allTimeLabels = [ {% for item in x %}
                  "{{ item }}",
                  {% endfor %}
  ]

  let allTimeData = [ 
            {% for item in y %}
               "{{ item }}",
              {% endfor %}
  ]

  let weekLabels = [ {% for item in x7 %}
                  "{{ item }}",
                  {% endfor %}
  ]

  let weekData = [ 
              {% for item in y7 %}
                "{{ item }}",
              {% endfor %}
  ]

  let monthLabels = [ 
              {% for item in x30 %}
                "{{ item }}",
              {% endfor %}
  ]

  let monthData = [ 
              {% for item in y30 %}
                "{{ item }}",
              {% endfor %}
  ]

  </script>
  <script type="text/javascript" src="/static/charts.js"></script>

{% endblock %}